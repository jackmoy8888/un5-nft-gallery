<script>
  const provider = new ethers.providers.JsonRpcProvider("https://eth-mainnet.g.alchemy.com/v2/demo");
  const nftContract = new ethers.Contract(
    "0xC36442b4a4522E871399CD717aBDD847Ab11FE88",
    ["function tokenURI(uint256 tokenId) view returns (string)"],
    provider
  );

  const tokenId = "33948";

  async function loadNFT() {
    try {
      const uri = await nftContract.tokenURI(tokenId);
      const metadataUrl = uri.startsWith("ipfs://")
        ? "https://ipfs.io/ipfs/" + uri.replace("ipfs://", "")
        : uri;

      const res = await fetch(metadataUrl);
      const metadata = await res.json();

      let imageUrl = metadata.image;
      if (imageUrl.startsWith("ipfs://")) {
        imageUrl = "https://ipfs.io/ipfs/" + imageUrl.replace("ipfs://", "");
      }

      const img = document.createElement("img");
      img.src = imageUrl;
      img.alt = "UN5/ETH V4 LP NFT";
      img.style.maxWidth = "100%";
      img.style.border = "3px solid #0f0";
      img.style.borderRadius = "12px";

      const container = document.getElementById("image-container");
      container.innerHTML = "";
      container.appendChild(img);
    } catch (err) {
      document.getElementById("image-container").innerText = "‚ùå Failed to load NFT image.";
      console.error(err);
    }
  }

  loadNFT();
</script>
